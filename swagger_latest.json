{"openapi":"3.0.1","info":{"title":"Order service","version":"1.0"},"servers":[{"url":"http://localhost:24680","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDTO"}}}}},"security":[]}},"/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDTO"}}}}},"security":[]}},"/auth/invalidate_session":{"post":{"tags":["auth-controller"],"operationId":"invalidateSession","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/payment/pay":{"post":{"tags":["payment-controller"],"operationId":"payOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CardRequest"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}}}}},"/api/order/set_address":{"post":{"tags":["order-controller"],"operationId":"setAddress","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}}},"/api/order/confirm":{"post":{"tags":["order-controller"],"operationId":"confirmOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}}},"/api/order/add_product":{"post":{"tags":["order-controller"],"operationId":"addProductToOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}}},"/api/card/create_card":{"post":{"tags":["card-controller"],"operationId":"createCard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CardRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CardResponse"}}}}}}},"/api/address/create_address":{"post":{"tags":["address-controller"],"operationId":"createAddress","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AddressResponse"}}}}}}},"/auth/check_auth":{"get":{"tags":["auth-controller"],"operationId":"checkAuth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponseDTO"}}}}}}},"/api/product/get_all":{"get":{"tags":["product-controller"],"operationId":"getAllProducts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StockResponse"}}}}}}}},"/api/product/get":{"get":{"tags":["product-controller"],"operationId":"getProductById","parameters":[{"name":"productId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StockResponse"}}}}}}},"/api/order/get_current":{"get":{"tags":["order-controller"],"operationId":"getCurrentOrder","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}}}}},"/api/card/get_all":{"get":{"tags":["card-controller"],"operationId":"getAllCards","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CardResponse"}}}}}}}},"/api/address/get_all":{"get":{"tags":["address-controller"],"operationId":"getAllAddresses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AddressResponse"}}}}}}}}},"components":{"schemas":{"RegisterUserDTO":{"required":["password","username"],"type":"object","properties":{"username":{"maxLength":20,"minLength":6,"type":"string"},"password":{"maxLength":20,"minLength":6,"type":"string"}}},"AuthResponseDTO":{"type":"object","properties":{"tokenType":{"type":"string"},"username":{"type":"string"},"token":{"type":"string"}}},"LoginUserDTO":{"required":["password","username"],"type":"object","properties":{"username":{"maxLength":20,"minLength":6,"type":"string"},"password":{"maxLength":20,"minLength":6,"type":"string"}}},"CardRequest":{"type":"object","properties":{"number":{"type":"string"},"expiration":{"type":"string"},"cvv":{"type":"string"},"money":{"type":"number","format":"double"}}},"Address":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"city":{"type":"string"},"street":{"type":"string"},"building":{"type":"integer","format":"int32"},"entrance":{"type":"integer","format":"int32"},"floor":{"type":"integer","format":"int32"},"flat":{"type":"integer","format":"int32"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Order":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"cost":{"type":"number","format":"double"},"address":{"$ref":"#/components/schemas/Address"},"products":{"type":"array","items":{"$ref":"#/components/schemas/Product"}},"deliveryTime":{"type":"string"},"utensilsCount":{"type":"integer","format":"int32"},"user":{"$ref":"#/components/schemas/User"},"sessionId":{"type":"string"},"isConfirmed":{"type":"boolean"},"isPaid":{"type":"boolean"}}},"PaymentResponse":{"type":"object","properties":{"message":{"type":"string"},"order":{"$ref":"#/components/schemas/Order"}}},"Product":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"count":{"type":"number","format":"double"},"productOnStock":{"$ref":"#/components/schemas/Stock"}}},"Restaurant":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"Stock":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"amount":{"type":"number","format":"double"},"restaurant":{"$ref":"#/components/schemas/Restaurant"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"password":{"type":"string"},"addresses":{"type":"array","items":{"$ref":"#/components/schemas/Address"}},"enabled":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}}}},"AddressRequest":{"type":"object","properties":{"city":{"type":"string"},"street":{"type":"string"},"building":{"type":"integer","format":"int32"},"entrance":{"type":"integer","format":"int32"},"floor":{"type":"integer","format":"int32"},"flat":{"type":"integer","format":"int32"}}},"OrderResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"cost":{"type":"number","format":"double"},"address":{"$ref":"#/components/schemas/Address"},"user":{"$ref":"#/components/schemas/UserResponse"},"products":{"type":"array","items":{"$ref":"#/components/schemas/Product"}},"deliveryTime":{"type":"string"},"utensilsCount":{"type":"integer","format":"int32"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"}}},"ConfirmOrderRequest":{"type":"object","properties":{"deliveryTime":{"type":"string"},"utensilsCount":{"type":"integer","format":"int32"}}},"ProductRequest":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"count":{"type":"number","format":"double"}}},"CardResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"number":{"type":"string"},"expiration":{"type":"string"},"money":{"type":"number","format":"double"}}},"AddressResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"city":{"type":"string"},"street":{"type":"string"},"building":{"type":"integer","format":"int32"},"entrance":{"type":"integer","format":"int32"},"floor":{"type":"integer","format":"int32"},"flat":{"type":"integer","format":"int32"}}},"StockResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"amount":{"type":"number","format":"double"},"restaurant":{"$ref":"#/components/schemas/Restaurant"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}